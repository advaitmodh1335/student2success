<!-- AI disclosure 
  Some Part of this code were generated by Chat GPT -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Employer · Post Job</title>
  <link rel="stylesheet" href="../assets/css/base.css">
  <style>
    .stack{max-width:820px;margin:0 auto;padding:24px}
    .stack .card{margin:0}

    /* Top bar (brand + Logout) */
    .topbar{
      width:100%;
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:16px 24px;
      border-bottom:1px solid var(--line)
    }
    .brand{font-weight:700;text-decoration:none;color:var(--ink)}
    .brand:hover{text-decoration:underline}
    .logout{color:var(--ink);text-decoration:none;border:1px solid var(--line);padding:6px 10px;border-radius:10px}
    .logout:hover{background:#fff}

    /* Full-width back row (left aligned to page) */
    .back-strip{
      width:100%;
      padding:16px 24px 0;
      display:flex;
      justify-content:flex-start;
    }
    .backbtn{
      display:inline-flex;align-items:center;gap:8px;
      background:#fff;color:var(--ink);
      border:1px solid var(--line);
      border-radius:10px;
      padding:.45rem .8rem;
      text-decoration:none;cursor:pointer;
    }
    .backbtn:hover{background:#f6f8fc;border-color:#c8d2e6}
    .backbtn svg{width:18px;height:18px;stroke:currentColor}

    /* Centered page title */
    .page-header{max-width:1100px;margin:0 auto;padding:12px 24px 24px}
    .page-header h1{margin:0;text-align:center}

    /* Segmented (radio) control for Job Type */
    .segmented{display:flex;gap:10px;flex-wrap:wrap}
    .segmented input[type="radio"]{position:absolute;opacity:0;pointer-events:none}
    .segmented label{
      padding:.5rem .85rem;border:1px solid #d7deea;border-radius:999px;
      background:#fff;color:#0f1626;cursor:pointer;user-select:none
    }
    .segmented input[type="radio"]:focus + label{
      outline:2px solid rgba(47,111,237,.28);outline-offset:2px
    }
    .segmented input[type="radio"]:checked + label{
      background:#eaf1ff;border-color:#c6d8ff;color:#23407a;font-weight:600
    }

    .actions-row{margin-top:10px;display:flex;justify-content:flex-start}

    /* ---------- Modal ---------- */
    .backdrop{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(17,24,39,.45);z-index:300}
    .backdrop.show{display:flex}
    .modal{width:min(560px,94vw);background:#fff;border:1px solid var(--line);border-radius:14px;box-shadow:0 24px 60px rgba(2,8,23,.28)}
    .modal header{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid var(--line)}
    .modal .body{padding:16px}
    .modal .footer{padding:14px 16px;border-top:1px solid var(--line);display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap}
    .modal .close-x{background:transparent;border:0;font-size:1.4rem;color:var(--muted);cursor:pointer;line-height:1}

    .meta-grid{display:grid;grid-template-columns:auto 1fr;gap:6px 12px;margin-top:8px}
    .meta-grid dt{color:var(--muted)}
    .meta-grid dd{margin:0}
    .check{
      width:48px;height:48px;border-radius:999px;background:rgba(34,197,94,.12);
      border:1px solid #bfe6cf;color:#16a34a;display:grid;place-items:center;font-weight:700;margin-right:8px
    }
    .row{display:flex;align-items:center;gap:10px}
  </style>
</head>
<body>
  <!-- Top bar -->
  <div class="topbar">
    <a class="brand" href="../index.html">Student2Success</a>
    <a href="../index.html" class="logout">Logout</a>
  </div>

  <!-- Back button -->
  <div class="back-strip">
    <button class="backbtn" type="button" onclick="(window.location.href='dashboard.html')">
      <svg viewBox="0 0 24 24" fill="none"><path d="M15 6l-6 6 6 6" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
      <span>Cancel</span>
    </button>
  </div>

  <!-- Title -->
  <header class="page-header">
    <h1>Post New Job</h1>
  </header>

  <main>
    <div class="stack">
      <div class="card">
        <form id="postJob">
          <div class="field">
            <label class="label" for="title">Job Title</label>
            <input id="title" class="input" placeholder="e.g., Software Developer Intern" required>
          </div>

          <div class="field">
            <label class="label" for="location">Location</label>
            <input id="location" class="input" placeholder="e.g., Calgary or Remote" required>
          </div>

          <div class="field">
            <label class="label" for="comp">Compensation</label>
            <input id="comp" class="input" placeholder="$25/hr">
          </div>

          <!-- Job Type -->
          <div class="field">
            <span class="label">Job Type</span>
            <div class="segmented" role="radiogroup" aria-label="Job type">
              <input type="radio" id="jt-full" name="jobtype" value="Full-time">
              <label for="jt-full">Full-time</label>

              <input type="radio" id="jt-part" name="jobtype" value="Part-time">
              <label for="jt-part">Part-time</label>

              <input type="radio" id="jt-coop" name="jobtype" value="Co-op">
              <label for="jt-coop">Co-op</label>

              <input type="radio" id="jt-intern" name="jobtype" value="Internship" checked>
              <label for="jt-intern">Internship</label>
            </div>
          </div>

          <div class="field">
            <label class="label" for="desc">Description</label>
            <textarea id="desc" class="input" rows="5" placeholder="Role summary, responsibilities..."></textarea>
          </div>

          <div class="field">
            <label class="label" for="req">Requirements</label>
            <textarea id="req" class="input" rows="4" placeholder="Skills, experience..."></textarea>
          </div>

          <div class="field">
            <label class="label" for="deadline">Deadline</label>
            <input id="deadline" class="input" placeholder="YYYY-MM-DD">
          </div>

          <div class="actions-row">
            <button class="btn" type="submit">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </main>

  <footer class="footer">Student2Success</footer>

  <!-- Confirmation Modal -->
  <div id="confirmModal" class="backdrop" role="dialog" aria-modal="true" aria-labelledby="confirmTitle">
    <div class="modal" role="document">
      <header>
        <!-- Updated title text -->
        <h2 id="confirmTitle">Job Post submitted</h2>
        <button class="close-x" type="button" aria-label="Close" data-close>×</button>
      </header>
      <div class="body">
        <div class="row">
          <div class="check">✓</div>
          <div>
            <!-- Updated line to say submitted -->
            <div><strong id="mTitle">Job</strong> has been submitted.</div>
            <dl class="meta-grid">
              <dt>Type</dt><dd id="mType">—</dd>
              <dt>Location</dt><dd id="mLocation">—</dd>
              <dt>Deadline</dt><dd id="mDeadline">—</dd>
            </dl>
          </div>
        </div>
      </div>
      <div class="footer">
        <button class="btn secondary" type="button" data-close>Close</button>
        <a class="btn" href="jobs.html">Go to Job Posts</a>
      </div>
    </div>
  </div>

  <script>
    // Elements
    const form = document.getElementById('postJob');
    const confirmModal = document.getElementById('confirmModal');
    const mTitle = document.getElementById('mTitle');
    const mType = document.getElementById('mType');
    const mLocation = document.getElementById('mLocation');
    const mDeadline = document.getElementById('mDeadline');

    let lastFocus = null;

    // Modal helpers
    function openModal(el){
      lastFocus = document.activeElement;
      el.classList.add('show');
      const first = el.querySelector('button,[href],input,[tabindex]:not([tabindex="-1"])');
      if (first) first.focus();
    }
    function closeModal(el){
      el.classList.remove('show');
      try{ lastFocus && lastFocus.focus(); }catch(_){}
    }
    confirmModal.addEventListener('click', (e)=>{
      if (e.target.hasAttribute('data-close') || e.target === confirmModal){
        closeModal(confirmModal);
      }
    });
    window.addEventListener('keydown', (e)=>{
      if (e.key === 'Escape' && confirmModal.classList.contains('show')){
        closeModal(confirmModal);
      }
    });

    // Submit -> show confirmation (no navigation)
    form.addEventListener('submit', (e)=>{
      e.preventDefault();

      const data = {
        title: document.getElementById('title').value.trim() || 'Untitled job',
        location: document.getElementById('location').value.trim() || '—',
        compensation: document.getElementById('comp').value.trim(),
        jobtype: (document.querySelector('input[name="jobtype"]:checked')||{}).value || '—',
        description: document.getElementById('desc').value.trim(),
        requirements: document.getElementById('req').value.trim(),
        deadline: document.getElementById('deadline').value.trim() || '—'
      };
      console.log('Submitting job (prototype only):', data);

      // Fill modal details
      mTitle.textContent = data.title;
      mType.textContent = data.jobtype;
      mLocation.textContent = data.location;
      mDeadline.textContent = data.deadline;

      openModal(confirmModal);

      // Optional: reset after confirmation
      // form.reset();
      // document.getElementById('jt-intern').checked = true;
    });
  </script>
</body>
</html>