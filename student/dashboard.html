<!-- AI disclosure 
  Some Part of this code were generated by Chat GPT -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Student · Dashboard</title>
  <link rel="stylesheet" href="../assets/css/base.css">
  <style>
    html,body{height:100%}
    body{min-height:100vh;display:flex;flex-direction:column}

    .topbar{
      width:100%;
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:16px 24px;
      border-bottom:1px solid var(--line)
    }
    .leftstack{display:flex;flex-direction:column;align-items:flex-start;gap:6px}
    .brand{font-weight:700;text-decoration:none;color:var(--ink)}
    .brand:hover{text-decoration:underline}
    .rightbar{display:flex;align-items:center;gap:12px}

    /* Avatar + buttons */
    .avatar,.iconbtn{
      width:44px;height:44px;border-radius:999px;display:inline-flex;align-items:center;justify-content:center;
      background:#1b2540;border:1px solid #2a3556;text-decoration:none;position:relative
    }
    .avatar:hover,.iconbtn:hover{background:#22315b}
    .avatar svg,.iconbtn svg{width:22px;height:22px;stroke:#e6eaf2}
    .logout{color:var(--ink);text-decoration:none;border:1px solid var(--line);padding:6px 10px;border-radius:10px}
    .logout:hover{background:#fff}
    .iconbtn.has-new::after{
      content:"";position:absolute;top:6px;right:6px;width:9px;height:9px;border-radius:999px;background:#e54646;border:1px solid #fff;
    }

    .wrap{max-width:1100px;margin:0 auto;padding:24px}
    .tiles{display:grid;gap:16px;grid-template-columns:repeat(2,minmax(280px,1fr))}
    @media (max-width:720px){.tiles{grid-template-columns:1fr}}
    .tile{display:block}
    .tile h3{margin:.2rem 0}
    main{flex:1}

    /* ===== Notifications Modal ===== */
    .backdrop{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(17,24,39,.45);z-index:300}
    .backdrop.show{display:flex}
    .modal{width:min(860px,94vw);background:#fff;border:1px solid var(--line);border-radius:14px;box-shadow:0 24px 60px rgba(2,8,23,.28)}
    .modal header{display:flex;align-items:center;justify-content:space-between;padding:16px 18px;border-bottom:1px solid var(--line)}
    .modal .body{padding:18px;max-height:70vh;overflow:auto}
    .modal .footer{padding:14px 18px;border-top:1px solid var(--line);display:flex;gap:10px;justify-content:flex-end}
    .modal .close-x{background:transparent;border:0;font-size:1.4rem;color:var(--muted);cursor:pointer;line-height:1}

    .top-actions{display:flex;justify-content:flex-end;margin-bottom:12px}
    .pill-act{border:1px solid #d7deea;border-radius:999px;background:#fff;padding:.55rem 1rem;color:#0f1626;cursor:pointer}
    .pill-act:hover{background:#f6f8fc;border-color:#c8d2e6}

    /* Notification cards */
    .notice{display:flex;align-items:flex-start;justify-content:space-between;gap:16px;padding:18px 20px;border-radius:16px;background:#fff;border:1px solid transparent}
    .notice+.notice{margin-top:16px}
    .notice.info{--tone:#3B6BE7;border-color:var(--tone);border-left-width:6px;background:rgba(59,107,231,.06)}
    .notice.success{--tone:#16A34A;border-color:var(--tone);border-left-width:6px;background:rgba(22,163,74,.08)}
    .notice.warn{--tone:#EAB308;border-color:var(--tone);border-left-width:6px;background:rgba(234,179,8,.10)}
    .notice.error{--tone:#EF4444;border-color:var(--tone);border-left-width:6px;background:rgba(239,68,68,.08)}
    .notice h3{margin:0 0 6px;font-size:1.05rem;line-height:1.3}
    .notice .meta{margin:0;color:var(--muted)}
    .notice .act{margin-left:auto;white-space:nowrap;border:1px solid #d7deea;border-radius:999px;background:#fff;padding:.45rem .85rem;color:#0f1626;cursor:pointer}
    .notice .act:hover{background:#f6f8fc;border-color:#c8d2e6}
    .notice:hover{box-shadow:0 6px 20px rgba(31,45,84,.08)}
    .notice.read{opacity:.55}
    .notice.read .act{visibility:hidden}
  </style>
</head>
<body>
  <div class="topbar">
    <div class="leftstack">
      <a class="brand" href="../index.html">Student2Success</a>
    </div>

    <div class="rightbar">
      <a href="../index.html" class="logout">Logout</a>

      <!-- Notifications bell opens modal -->
      <a href="#" id="notifBtn" class="iconbtn has-new" aria-label="Notifications" role="button">
        <svg viewBox="0 0 24 24" fill="none">
          <path d="M15 17H5.5a1.5 1.5 0 0 1-1.33-2.16l.64-1.28A6.5 6.5 0 0 0 5.5 11V9a6.5 6.5 0 0 1 13 0v2c0 .62.13 1.24.39 1.81l.94 2.06A1.5 1.5 0 0 1 18.5 17H15Z" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M9.5 17a2.5 2.5 0 0 0 5 0" stroke-width="1.7" stroke-linecap="round"/>
        </svg>
      </a>

      <a href="profile.html" class="avatar" aria-label="Profile">
        <svg viewBox="0 0 24 24" fill="none">
          <circle cx="12" cy="8" r="4" stroke-width="1.7"/>
          <path d="M4 20c0-4 4-6 8-6s8 2 8 6" stroke-width="1.7" stroke-linecap="round"/>
        </svg>
      </a>
    </div>
  </div>

  <header class="wrap">
    <h1>Student Dashboard</h1>
  </header>

  <main class="wrap">
    <div class="tiles">
      <a class="card tile" href="jobs.html">
        <h3>Job Search</h3>
        <p class="meta">Find and filter open roles.</p>
      </a>

      <a class="card tile" href="documents.html">
        <h3>Documents</h3>
        <p class="meta">Upload and manage files.</p>
      </a>

      <a class="card tile" href="applications.html">
        <h3>Applications</h3>
        <p class="meta">Track statuses and dates.</p>
      </a>

      <a class="card tile" href="saved-jobs.html">
        <h3>Saved Jobs</h3>
        <p class="meta">View and manage roles you’ve saved.</p>
      </a>
    </div>
  </main>

  <footer class="footer">Student2Success</footer>

  <!-- ================= Notifications Modal ================= -->
  <div id="notifModal" class="backdrop" role="dialog" aria-modal="true" aria-labelledby="notifTitle">
    <div class="modal" role="document">
      <header>
        <h2 id="notifTitle">Notifications</h2>
        <button class="close-x" type="button" aria-label="Close" data-close>×</button>
      </header>

      <div class="body">
        <div class="top-actions">
          <button id="markAll" class="pill-act" type="button">Mark all as read</button>
        </div>

        <!-- Each notice needs a stable id so we can remember read state -->
        <div id="n1" class="notice info">
          <div>
            <h3><strong>New job match:</strong> Frontend Intern at UI Labs</h3>
            <p class="meta">2h ago</p>
          </div>
          <button class="act" type="button">Mark as read</button>
        </div>

        <div id="n2" class="notice success">
          <div>
            <h3><strong>Application update:</strong> Data Analyst Intern – Interview Scheduled</h3>
            <p class="meta">Yesterday</p>
          </div>
          <button class="act" type="button">Mark as read</button>
        </div>

        <div id="n3" class="notice warn">
          <div>
            <h3><strong>Action needed:</strong> Resume is missing a phone number</h3>
            <p class="meta">3 days ago</p>
          </div>
          <button class="act" type="button">Mark as read</button>
        </div>

        <div id="n4" class="notice error">
          <div>
            <h3><strong>Deadline today:</strong> Submit cover letter for Web Engineer Co-op</h3>
            <p class="meta">Due in 6 hours</p>
          </div>
          <button class="act" type="button">Mark as read</button>
        </div>
      </div>
      <!-- Footer removed per request (only keep the cross button) -->
    </div>
  </div>

  <script>
    // ====== Modal helpers ======
    const notifModal = document.getElementById('notifModal');
    let lastFocus = null;
    function openModal(el){
      lastFocus = document.activeElement;
      el.classList.add('show');
      const first = el.querySelector('button,[href],input,[tabindex]:not([tabindex="-1"])');
      if (first) first.focus();
    }
    function closeModal(el){
      el.classList.remove('show');
      try{ lastFocus && lastFocus.focus(); }catch(e){}
    }
    notifModal.addEventListener('click', (e)=>{
      if (e.target.hasAttribute('data-close') || e.target === notifModal) {
        closeModal(notifModal);
      }
    });
    window.addEventListener('keydown', (e)=>{
      if (e.key === 'Escape' && notifModal.classList.contains('show')) closeModal(notifModal);
    });

    // ====== Open from bell ======
    const bell = document.getElementById('notifBtn');
    bell.addEventListener('click', (e)=>{ e.preventDefault(); openModal(notifModal); });

    // ====== Read state (localStorage) ======
    const STORAGE_KEY = 's2s.notifications.read.v1';
    const readSet = new Set(JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]'));

    function saveRead(){
      localStorage.setItem(STORAGE_KEY, JSON.stringify([...readSet]));
    }
    function updateBellDot(){
      const allIds = Array.from(document.querySelectorAll('.notice')).map(n=>n.id);
      const allRead = allIds.every(id => readSet.has(id));
      bell.classList.toggle('has-new', !allRead);
    }
    function applyReadState(){
      document.querySelectorAll('.notice').forEach(n=>{
        n.classList.toggle('read', readSet.has(n.id));
      });
      updateBellDot();
    }

    // Mark single notice
    document.querySelectorAll('.notice .act').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const n = btn.closest('.notice');
        readSet.add(n.id);
        saveRead();
        applyReadState();
      });
    });

    // Mark all
    document.getElementById('markAll').addEventListener('click', ()=>{
      document.querySelectorAll('.notice').forEach(n=>readSet.add(n.id));
      saveRead();
      applyReadState();
    });

    // Init
    applyReadState();
  </script>
</body>
</html>